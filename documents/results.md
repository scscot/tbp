Latest push notification test results.

New User Xcode Logs

flutter: 🔗 Deep Link: Received URI while running: teambuildpro:///?new=dorothy9877
flutter: 🔗 Deep Link: Processing URI: teambuildpro:///?new=dorothy9877
flutter: 🔍 NewRegistrationScreen._initializeScreen() called
flutter: 🔍 Constructor parameters received:
flutter: 🔍   widget.referralCode: dorothy9877
flutter: 🔍   widget.appId: L8n1tJqHqYd3F5j6
flutter: 🔍 Using fresh constructor referral code: dorothy9877
flutter: 🔐 AUTH_WRAPPER: Building with user: null, firebase user: null, admin settings: null, checking auth: false
flutter: 🔐 AUTH_WRAPPER: _buildContent called with user: null
flutter: 🍎 AUTH_WRAPPER: iOS demo mode: false
flutter: 🔐 AUTH_WRAPPER: User has logged out: true
flutter: 🧹 SessionManager — Referral data cleared
flutter: 🔍 After assignment:
flutter: 🔍   _initialReferralCode: dorothy9877
flutter: 🔍 Using referral code: dorothy9877
flutter: 🔍 Making HTTP request to get referral code data (fallback)...
flutter: 🔐 AUTH_WRAPPER: Referral parameters detected, routing to REGISTRATION (code: dorothy9877, type: new)
flutter: 🔍 NewRegistrationScreen._initializeScreen() called
flutter: 🔍 Constructor parameters received:
flutter: 🔍   widget.referralCode: dorothy9877
flutter: 🔍   widget.appId: L8n1tJqHqYd3F5j6
flutter: 🔍 Using fresh constructor referral code: dorothy9877
flutter: 🧹 SessionManager — Referral data cleared
flutter: 🔍 After assignment:
flutter: 🔍   _initialReferralCode: dorothy9877
flutter: 🔍 Using referral code: dorothy9877
flutter: 🔍 Making HTTP request to get referral code data (fallback)...
flutter: 📂 SessionManager — Referral data cached: dorothy9877 -> Dorothy Roberts (type: new)
flutter: ✅ NewRegistrationScreen: Referral data cached from fallback
FlutterSemanticsScrollView implements focusItemsInRect: - caching for linear focus movement is limited as long as this view is on screen.
flutter: 📂 SessionManager — Referral data cached: dorothy9877 -> Dorothy Roberts (type: new)
flutter: ✅ NewRegistrationScreen: Referral data cached from fallback
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API and this value is being ignored. Please fix this problem.
If you want to see the backtrace, please set CG_NUMERICS_SHOW_BACKTRACE environmental variable.
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API and this value is being ignored. Please fix this problem.
If you want to see the backtrace, please set CG_NUMERICS_SHOW_BACKTRACE environmental variable.
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API and this value is being ignored. Please fix this problem.
If you want to see the backtrace, please set CG_NUMERICS_SHOW_BACKTRACE environmental variable.
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API and this value is being ignored. Please fix this problem.
If you want to see the backtrace, please set CG_NUMERICS_SHOW_BACKTRACE environmental variable.
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API and this value is being ignored. Please fix this problem.
If you want to see the backtrace, please set CG_NUMERICS_SHOW_BACKTRACE environmental variable.
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API and this value is being ignored. Please fix this problem.
If you want to see the backtrace, please set CG_NUMERICS_SHOW_BACKTRACE environmental variable.
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API and this value is being ignored. Please fix this problem.
If you want to see the backtrace, please set CG_NUMERICS_SHOW_BACKTRACE environmental variable.
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API and this value is being ignored. Please fix this problem.
If you want to see the backtrace, please set CG_NUMERICS_SHOW_BACKTRACE environmental variable.
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API and this value is being ignored. Please fix this problem.
If you want to see the backtrace, please set CG_NUMERICS_SHOW_BACKTRACE environmental variable.
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API and this value is being ignored. Please fix this problem.
If you want to see the backtrace, please set CG_NUMERICS_SHOW_BACKTRACE environmental variable.
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API and this value is being ignored. Please fix this problem.
If you want to see the backtrace, please set CG_NUMERICS_SHOW_BACKTRACE environmental variable.
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API and this value is being ignored. Please fix this problem.
If you want to see the backtrace, please set CG_NUMERICS_SHOW_BACKTRACE environmental variable.
flutter: 🔍 REGISTER: Starting registration process...
flutter: 🔍 REGISTER: Registration data prepared: {email: dsk@dljldkj.com, password: 11111111, firstName: dflsj, lastName: lkjsldjf, sponsorReferralCode: dorothy9877, role: user}
flutter: 🔍 REGISTER: Calling registerUser Cloud Function...
flutter: 🔍 REGISTER: Cloud Function call successful: {success: true, uid: Vi2VR363a5Zfi6FKV5JmCpHAwuM2}
flutter: 🔍 REGISTER: Attempting to sign in user...
flutter: 🔐 AUTH_SERVICE: Firebase user found: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, fetching user data from Firestore
flutter: 🔐 AUTH_SERVICE: Firebase user found: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, fetching user data from Firestore
flutter: 🔐 REGISTER: Auth state -> dsk@dljldkj.com (Vi2VR363a5Zfi6FKV5JmCpHAwuM2)
flutter: 🔐 REGISTER: Auth state -> dsk@dljldkj.com (Vi2VR363a5Zfi6FKV5JmCpHAwuM2)
flutter: 🧹 SessionManager — Logout state cleared
flutter: 🔐 AUTH_SERVICE: Logout state cleared on successful login
flutter: 🔍 REGISTER: Sign in successful, UID: Vi2VR363a5Zfi6FKV5JmCpHAwuM2
flutter: 🔍 REGISTER: Fetching user model from Firestore...
flutter: --- [SERVICE] Attempting to get user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2 ---
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, role: user, firstName: dflsj
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, role: user, firstName: dflsj
flutter: 🔧 AUTH_SERVICE: adminSettings stream - currentUser: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, role: user
flutter: 🔧 AUTH_SERVICE: Not an admin user (role: user), returning null admin settings
flutter: --- [SERVICE] Firestore document get completed ---
flutter: --- [SERVICE] Document for Vi2VR363a5Zfi6FKV5JmCpHAwuM2 exists. Attempting to parse... ---
flutter: --- [SERVICE] Successfully parsed user: dflsj ---
flutter: ✅ REGISTER: Pushed AuthWrapper and cleared stack
flutter: ✅ REGISTER: Pushed AuthWrapper and cleared stack
flutter: 📂 SessionManager — User session saved with UID: Vi2VR363a5Zfi6FKV5JmCpHAwuM2
flutter: ✅ REGISTER: User data stored for biometric authentication
flutter: ✅ REGISTER: User model fetched successfully: dflsj lkjsldjf
flutter: 🧹 SessionManager — Referral data cleared
flutter: 🧹 REGISTER: Referral data cleared after successful registration
flutter: 🔍 REGISTER: Navigating regular user to EditProfileScreen...
flutter: 🔐 AUTH_WRAPPER: Building with user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, firebase user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, admin settings: null, checking auth: false
flutter: 🔐 AUTH_WRAPPER: _buildContent called with user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2
flutter: 🔐 AUTH_WRAPPER: User found: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, role: user, photoUrl: null, country: , firstName: dflsj
flutter: 🔐 AUTH_WRAPPER: User missing photo, showing EditProfileScreen
flutter: 🔐 AUTH_WRAPPER: Building with user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, firebase user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, admin settings: null, checking auth: false
flutter: 🔐 AUTH_WRAPPER: _buildContent called with user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2
flutter: 🔐 AUTH_WRAPPER: User found: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, role: user, photoUrl: null, country: , firstName: dflsj
flutter: 🔐 AUTH_WRAPPER: User missing photo, showing EditProfileScreen
flutter: 🔐 AUTH_WRAPPER: Building with user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, firebase user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, admin settings: null, checking auth: false
flutter: 🔐 AUTH_WRAPPER: _buildContent called with user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2
flutter: 🔐 AUTH_WRAPPER: User found: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, role: user, photoUrl: null, country: , firstName: dflsj
flutter: 🔐 AUTH_WRAPPER: User missing photo, showing EditProfileScreen
flutter: --- FCMService: Initializing for user UID: Vi2VR363a5Zfi6FKV5JmCpHAwuM2 ---
flutter: --- FCMService: Initializing for user UID: Vi2VR363a5Zfi6FKV5JmCpHAwuM2 ---
flutter: --- FCMService: Initializing for user UID: Vi2VR363a5Zfi6FKV5JmCpHAwuM2 ---
flutter: --- FCMService: Permission status: AuthorizationStatus.authorized
flutter: --- FCMService: Permission status: AuthorizationStatus.authorized
flutter: --- FCMService: Permission status: AuthorizationStatus.authorized
flutter: --- SAVE TOKEN START for UID: Vi2VR363a5Zfi6FKV5JmCpHAwuM2 ---
flutter: --- SAVE TOKEN: Got FCM token starting with: dkjddBGlNUbGjpl...
flutter: --- SAVE TOKEN START for UID: Vi2VR363a5Zfi6FKV5JmCpHAwuM2 ---
flutter: --- SAVE TOKEN: Got FCM token starting with: dkjddBGlNUbGjpl...
flutter: --- SAVE TOKEN START for UID: Vi2VR363a5Zfi6FKV5JmCpHAwuM2 ---
flutter: --- SAVE TOKEN: Got FCM token starting with: dkjddBGlNUbGjpl...
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, role: user, firstName: dflsj
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, role: user, firstName: dflsj
flutter: 🔧 AUTH_SERVICE: adminSettings stream - currentUser: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, role: user
flutter: 🔧 AUTH_SERVICE: Not an admin user (role: user), returning null admin settings
flutter: 🔐 AUTH_WRAPPER: Building with user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, firebase user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, admin settings: null, checking auth: false
flutter: 🔐 AUTH_WRAPPER: _buildContent called with user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2
flutter: 🔐 AUTH_WRAPPER: User found: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, role: user, photoUrl: null, country: , firstName: dflsj
flutter: 🔐 AUTH_WRAPPER: User missing photo, showing EditProfileScreen
flutter: 🔐 AUTH_WRAPPER: Building with user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, firebase user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, admin settings: null, checking auth: false
flutter: 🔐 AUTH_WRAPPER: _buildContent called with user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2
flutter: 🔐 AUTH_WRAPPER: User found: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, role: user, photoUrl: null, country: , firstName: dflsj
flutter: 🔐 AUTH_WRAPPER: User missing photo, showing EditProfileScreen
flutter: 🔐 AUTH_WRAPPER: Building with user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, firebase user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, admin settings: null, checking auth: false
flutter: 🔐 AUTH_WRAPPER: _buildContent called with user: Vi2VR363a5Zfi6FKV5JmCpHAwuM2
flutter: 🔐 AUTH_WRAPPER: User found: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, role: user, photoUrl: null, country: , firstName: dflsj
flutter: 🔐 AUTH_WRAPPER: User missing photo, showing EditProfileScreen
FlutterSemanticsScrollView implements focusItemsInRect: - caching for linear focus movement is limited as long as this view is on screen.
flutter: ✅✅✅ SAVE TOKEN SUCCESS: Firestore write completed without error.
flutter: --- SAVE TOKEN END ---
flutter: ✅ FCMService: bound to Vi2VR363a5Zfi6FKV5JmCpHAwuM2 with token dkjddBGlNU...
flutter: ✅✅✅ SAVE TOKEN SUCCESS: Firestore write completed without error.
flutter: --- SAVE TOKEN END ---
flutter: ✅ FCMService: bound to Vi2VR363a5Zfi6FKV5JmCpHAwuM2 with token dkjddBGlNU...
flutter: ✅✅✅ SAVE TOKEN SUCCESS: Firestore write completed without error.
flutter: --- SAVE TOKEN END ---
flutter: ✅ FCMService: bound to Vi2VR363a5Zfi6FKV5JmCpHAwuM2 with token dkjddBGlNU...
FlutterSemanticsScrollView implements focusItemsInRect: - caching for linear focus movement is limited as long as this view is on screen.
FlutterSemanticsScrollView implements focusItemsInRect: - caching for linear focus movement is limited as long as this view is on screen.
FlutterSemanticsScrollView implements focusItemsInRect: - caching for linear focus movement is limited as long as this view is on screen.
FlutterSemanticsScrollView implements focusItemsInRect: - caching for linear focus movement is limited as long as this view is on screen.
flutter: StorageService: Upload successful, URL: https://firebasestorage.googleapis.com/v0/b/teambuilder-plus-fe74d.firebasestorage.app/o/profile_images%2FVi2VR363a5Zfi6FKV5JmCpHAwuM2.jpg?alt=media&token=971fd8d7-7352-44dc-a4c5-3d9f221906ee
flutter: ✅ PROFILE UPDATE: Timezone recalculated for country: Barbados, state: Saint Michael
flutter: FirestoreService: Updating user Vi2VR363a5Zfi6FKV5JmCpHAwuM2 with data: {firstName: dflsj, lastName: lkjsldjf, city: dadsfdsfas, country: Barbados, state: Saint Michael, photoUrl: https://firebasestorage.googleapis.com/v0/b/teambuilder-plus-fe74d.firebasestorage.app/o/profile_images%2FVi2VR363a5Zfi6FKV5JmCpHAwuM2.jpg?alt=media&token=971fd8d7-7352-44dc-a4c5-3d9f221906ee, biz_opp_ref_url: null, isProfileComplete: true, subscriptionStatus: trial, trialStartDate: FieldValue(Instance of 'MethodChannelFieldValue')}
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, role: user, firstName: dflsj
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, role: user, firstName: dflsj
flutter: 🔧 AUTH_SERVICE: adminSettings stream - currentUser: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, role: user
flutter: 🔧 AUTH_SERVICE: Not an admin user (role: user), returning null admin settings
flutter: FirestoreService: Update for Vi2VR363a5Zfi6FKV5JmCpHAwuM2 successful.
flutter: 🍎 DASHBOARD: iOS demo mode: false
flutter: 📊 DASHBOARD: Loading cached network counts...
flutter: 📊 COUNTS: Cache miss, fetching from server...
flutter: 🔔 NOTIFICATIONS: Setting up real-time stream for user Vi2VR363a5Zfi6FKV5JmCpHAwuM2
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, role: user, firstName: dflsj
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, role: user, firstName: dflsj
flutter: 🔧 AUTH_SERVICE: adminSettings stream - currentUser: Vi2VR363a5Zfi6FKV5JmCpHAwuM2, role: user
flutter: 🔧 AUTH_SERVICE: Not an admin user (role: user), returning null admin settings
flutter: 🔍 BIZ_OPP DEBUG: Current user upline_admin: KJ8uFnlhKhWgBa4NVcwT
FlutterSemanticsScrollView implements focusItemsInRect: - caching for linear focus movement is limited as long as this view is on screen.
flutter: 💾 CACHE STORED: networkCounts_Vi2VR363a5Zfi6FKV5JmCpHAwuM2 (total entries: 2)
flutter: ✅ COUNTS: Fetched counts from server including newMembersYesterday: {joinedOpportunity: 0, all: 0, last24: 0, directSponsors: 0, newQualified: 0, newMembersYesterday: 0}
flutter: ✅ DASHBOARD: Cached counts loaded: {joinedOpportunity: 0, all: 0, last24: 0, directSponsors: 0, newQualified: 0, newMembersYesterday: 0}
flutter: 🔔 NOTIFICATIONS: Received 0 notifications from stream
flutter: 🔔 NOTIFICATIONS: Sorted notifications - 0 unread, 0 read
flutter: 🔍 BIZ_OPP DEBUG: Admin settings data: {biz_opp_ref_url: https://www.company.com/?ref=100, biz_opp: Demo Company, superAdmin: true, isSubscribed: true}
flutter: 🔍 BIZ_OPP DEBUG: biz_opp field: Demo Company
flutter: 🔍 BIZ_OPP DEBUG: Set bizOppName from admin settings: Demo Company
flutter: ✅ CACHE HIT: networkCounts_Vi2VR363a5Zfi6FKV5JmCpHAwuM2 (age: 0min)
flutter: 🔍 PAGINATION DEBUG: Total network size: 0
flutter: 🔍 PAGINATION DEBUG: Small network - loading all 100 members
flutter: 🔍 FILTERED: Cache miss, fetching from server (filter: all, search: "")...
flutter: 💾 CACHE STORED: filteredNetwork_Vi2VR363a5Zfi6FKV5JmCpHAwuM2_588158201 (total entries: 3)
flutter: ✅ FILTERED: Fetched 0 users from server (total: 0)
flutter: 🔍 PAGINATION DEBUG: Loaded 0 more members
flutter: 🔍 PAGINATION DEBUG: Total loaded: 0/0
flutter: 🔍 PAGINATION DEBUG: Has more data: false
flutter: 🔍 ANALYTICS DEBUG: Final analytics from server: {totalMembers: 0, directSponsors: 0, newMembers: 0, newMembersYesterday: 0, qualified: 0, withOpportunity: 0}
flutter: 🔍 team DEBUG: Total filtered members: 0
flutter: 🔍 team DEBUG: Level offset: 5
flutter: 🔍 team DEBUG: Members by level: {}

Sponsor Xcode Logs:

-- LLDB integration loaded --
CLIENT OF UIKIT REQUIRES UPDATE: This process does not adopt UIScene lifecycle. This will become an assert in a future version.
FlutterView implements focusItemsInRect: - caching for linear focus movement is limited as long as this view is on screen.
flutter: The Dart VM service is listening on http://127.0.0.1:50759/8xQJlGBEjCI=/
11.15.0 - [GoogleUtilities/AppDelegateSwizzler][I-SWZ001011] App Delegate Proxy is disabled.
flutter: 🚀 MAIN: Starting app initialization...
flutter: 🚀 MAIN: Flutter binding initialized
flutter: 🚀 MAIN: Firebase initialized successfully on attempt 1
flutter: 🚀 MAIN: Firebase initialized
flutter: 🔧 AppConstants: Starting Remote Config initialization...
flutter: 🔧 AppConstants: Setting default values...
flutter: 🔧 AppConstants: Fetching and activating Remote Config...
flutter: ✅ AppConstants: Remote Config initialization completed successfully
flutter: 🚀 MAIN: AppConstants initialized
flutter: 🚀 MAIN: Date formatting initialized
App is being debugged, do not track this hang
Hang detected: 1.19s (debugger attached, not reporting)
flutter: 🔗 Deep Link: No initial URI found. Navigating to generic homepage.
flutter: 🚀 MAIN: Deep link service initialized
flutter: 🚀 MAIN: Starting app...
flutter: 🚀 MAIN: App started successfully
flutter: 🔐 AUTH_WRAPPER: Firebase user exists but UserModel loading - showing loading state
flutter: 🔐 AUTH_WRAPPER: Building with user: null, firebase user: 774dbc8c-035f-48be-a8fd-2480dbe09ddd, admin settings: null, checking auth: true
flutter: 🔐 AUTH_WRAPPER: Showing loading screen during auth transition
flutter: 🔐 AUTH_SERVICE: Firebase user found: 774dbc8c-035f-48be-a8fd-2480dbe09ddd, fetching user data from Firestore
flutter: 🔐 AUTH_SERVICE: Firebase user found: 774dbc8c-035f-48be-a8fd-2480dbe09ddd, fetching user data from Firestore
App is being debugged, do not track this hang
Hang detected: 1.46s (debugger attached, not reporting)
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: 774dbc8c-035f-48be-a8fd-2480dbe09ddd, role: user, firstName: Daniela
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: 774dbc8c-035f-48be-a8fd-2480dbe09ddd, role: user, firstName: Daniela
flutter: 🔧 AUTH_SERVICE: adminSettings stream - currentUser: 774dbc8c-035f-48be-a8fd-2480dbe09ddd, role: user
flutter: 🔧 AUTH_SERVICE: Not an admin user (role: user), returning null admin settings
flutter: 🔐 AUTH_WRAPPER: UserModel loaded - transitioning to app content
flutter: 🔐 AUTH_WRAPPER: Building with user: 774dbc8c-035f-48be-a8fd-2480dbe09ddd, firebase user: 774dbc8c-035f-48be-a8fd-2480dbe09ddd, admin settings: null, checking auth: false
flutter: 🔐 AUTH_WRAPPER: _buildContent called with user: 774dbc8c-035f-48be-a8fd-2480dbe09ddd
flutter: 🔐 AUTH_WRAPPER: User found: 774dbc8c-035f-48be-a8fd-2480dbe09ddd, role: user, photoUrl: https://avatars.githubusercontent.com/u/8960265, country: Germany, firstName: Daniela
flutter: 🔐 AUTH_WRAPPER: Profile complete, showing NavigationShell
flutter: 🍎 DASHBOARD: iOS demo mode: false
flutter: 📊 DASHBOARD: Loading cached network counts...
flutter: 📊 COUNTS: Cache miss, fetching from server...
flutter: 🔔 NOTIFICATIONS: Setting up real-time stream for user 774dbc8c-035f-48be-a8fd-2480dbe09ddd
flutter: --- FCMService: Initializing for user UID: 774dbc8c-035f-48be-a8fd-2480dbe09ddd ---
App is being debugged, do not track this hang
Hang detected: 0.28s (debugger attached, not reporting)
App is being debugged, do not track this hang
Hang detected: 4.81s (debugger attached, not reporting)
GTMSessionFetcher 0x10667af80 (https://us-central1-teambuilder-plus-fe74d.cloudfunctions.net/getNetworkCounts) was already running
flutter: --- FCMService: Permission status: AuthorizationStatus.authorized
flutter: 🔍 BIZ_OPP DEBUG: Current user upline_admin: X64tWY9OFqdg3KAu0ScKioX0X9k2
flutter: 🔔 NOTIFICATIONS: Received 3 notifications from stream
flutter: 🔔 NOTIFICATIONS: Sorted notifications - 3 unread, 0 read
flutter: --- SAVE TOKEN START for UID: 774dbc8c-035f-48be-a8fd-2480dbe09ddd ---
flutter: --- SAVE TOKEN: Got FCM token starting with: diMvWvRfpUPpjjO...
flutter: 🔍 BIZ_OPP DEBUG: Admin settings data: {biz_opp_ref_url: https://mojo.com/test1, biz_opp: Mojo, superAdmin: false, isSubscribed: true}
flutter: 🔍 BIZ_OPP DEBUG: biz_opp field: Mojo
flutter: 🔍 BIZ_OPP DEBUG: Set bizOppName from admin settings: Mojo
flutter: 📊 COUNTS: Cache miss, fetching from server...
flutter: ✅✅✅ SAVE TOKEN SUCCESS: Firestore write completed without error.
flutter: --- SAVE TOKEN END ---
flutter: ✅ FCMService: bound to 774dbc8c-035f-48be-a8fd-2480dbe09ddd with token diMvWvRfpU...
flutter: 💾 CACHE STORED: networkCounts_774dbc8c-035f-48be-a8fd-2480dbe09ddd (total entries: 1)
flutter: ✅ COUNTS: Fetched counts from server including newMembersYesterday: {joinedOpportunity: 0, all: 4, last24: 1, directSponsors: 4, newQualified: 0, newMembersYesterday: 0}
flutter: ✅ DASHBOARD: Cached counts loaded: {joinedOpportunity: 0, all: 4, last24: 1, directSponsors: 4, newQualified: 0, newMembersYesterday: 0}
flutter: 💾 CACHE STORED: networkCounts_774dbc8c-035f-48be-a8fd-2480dbe09ddd (total entries: 1)
flutter: ✅ COUNTS: Fetched counts from server including newMembersYesterday: {joinedOpportunity: 0, all: 4, last24: 1, directSponsors: 4, newQualified: 0, newMembersYesterday: 0}
flutter: 🔍 PAGINATION DEBUG: Total network size: 4
flutter: 🔍 PAGINATION DEBUG: Small network - loading all 104 members
flutter: 🔍 FILTERED: Cache miss, fetching from server (filter: all, search: "")...
flutter: 💾 CACHE STORED: filteredNetwork_774dbc8c-035f-48be-a8fd-2480dbe09ddd_505923939 (total entries: 2)
flutter: ✅ FILTERED: Fetched 4 users from server (total: 4)
flutter: 🔍 PAGINATION DEBUG: Loaded 4 more members
flutter: 🔍 PAGINATION DEBUG: Total loaded: 4/4
flutter: 🔍 PAGINATION DEBUG: Has more data: false
flutter: 🔍 ANALYTICS DEBUG: Final analytics from server: {totalMembers: 4, directSponsors: 4, newMembers: 1, newMembersYesterday: 0, qualified: 0, withOpportunity: 0}
flutter: 🔍 team DEBUG: Total filtered members: 0
flutter: 🔍 team DEBUG: Level offset: 2
flutter: 🔍 team DEBUG: Members by level: {}
flutter: --- [SERVICE] Attempting to get user: X64tWY9OFqdg3KAu0ScKioX0X9k2 ---
flutter: --- [SERVICE] Attempting to get user: X64tWY9OFqdg3KAu0ScKioX0X9k2 ---
flutter: --- [SERVICE] Firestore document get completed ---
flutter: --- [SERVICE] Document for X64tWY9OFqdg3KAu0ScKioX0X9k2 exists. Attempting to parse... ---
flutter: --- [SERVICE] Successfully parsed user: Dave ---
flutter: --- [SERVICE] Firestore document get completed ---
flutter: --- [SERVICE] Document for X64tWY9OFqdg3KAu0ScKioX0X9k2 exists. Attempting to parse... ---
flutter: --- [SERVICE] Successfully parsed user: Dave ---
flutter: 🔘 PROFILE: Sign Out tapped
flutter: 🔓 PROFILE: Starting immediate sign out process...
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: 774dbc8c-035f-48be-a8fd-2480dbe09ddd, role: user, firstName: Daniela
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: 774dbc8c-035f-48be-a8fd-2480dbe09ddd, role: user, firstName: Daniela
flutter: 🔧 AUTH_SERVICE: adminSettings stream - currentUser: 774dbc8c-035f-48be-a8fd-2480dbe09ddd, role: user
flutter: 🔧 AUTH_SERVICE: Not an admin user (role: user), returning null admin settings
flutter: 🔐 AUTH_WRAPPER: Building with user: 774dbc8c-035f-48be-a8fd-2480dbe09ddd, firebase user: 774dbc8c-035f-48be-a8fd-2480dbe09ddd, admin settings: null, checking auth: false
flutter: 🔐 AUTH_WRAPPER: _buildContent called with user: 774dbc8c-035f-48be-a8fd-2480dbe09ddd
flutter: 🔐 AUTH_WRAPPER: User found: 774dbc8c-035f-48be-a8fd-2480dbe09ddd, role: user, photoUrl: https://avatars.githubusercontent.com/u/8960265, country: Germany, firstName: Daniela
flutter: 🔐 AUTH_WRAPPER: Profile complete, showing NavigationShell
flutter: 🧹 Cleared FCM token for user: 774dbc8c-035f-48be-a8fd-2480dbe09ddd
flutter: --- FCMService: Unbound from previous user and canceled all listeners
flutter: --- FCMService: Unbound from previous user and canceled all listeners
flutter: 🧹 FCMService: Public unbind completed
flutter: ✅ SessionManager — Loaded user: 774dbc8c-035f-48be-a8fd-2480dbe09ddd
flutter: 🔐 AUTH_SERVICE: User data before logout: test4@xtest.com
flutter: 📂 SessionManager — Logout state set: true
flutter: 🧹 SessionManager — Logout and referral data cleared (preserving user and biometric data)
flutter: ✅ SessionManager — Loaded user: 774dbc8c-035f-48be-a8fd-2480dbe09ddd
flutter: 🔐 AUTH_SERVICE: User data after clearLogoutData: test4@xtest.com
flutter: 🔐 AUTH_SERVICE: No Firebase user, returning null
flutter: 🔐 AUTH_SERVICE: No Firebase user, returning null
flutter: ✅ SessionManager — Loaded user: 774dbc8c-035f-48be-a8fd-2480dbe09ddd
flutter: 🔐 AUTH_SERVICE: User data after Firebase signOut: test4@xtest.com
flutter: ✅ PROFILE: Auth service sign out completed
flutter: 🔄 PROFILE: Waiting for auth state to confirm null user...
flutter: 🔧 AUTH_SERVICE: adminSettings stream - currentUser: null, role: null
flutter: 🔧 AUTH_SERVICE: Not an admin user (role: null), returning null admin settings
flutter: ✅ PROFILE: Auth state confirmed null user
flutter: ✅ PROFILE: Cleared any lingering dialogs
flutter: ✅ PROFILE: Navigation to root completed via global navigator key
flutter: 🔐 AUTH_WRAPPER: Building with user: null, firebase user: null, admin settings: null, checking auth: false
flutter: 🔐 AUTH_WRAPPER: _buildContent called with user: null
flutter: 🍎 AUTH_WRAPPER: iOS demo mode: false
flutter: 🔐 AUTH_WRAPPER: Building with user: null, firebase user: null, admin settings: null, checking auth: false
flutter: 🔐 AUTH_WRAPPER: _buildContent called with user: null
flutter: 🍎 AUTH_WRAPPER: iOS demo mode: false
flutter: 🔐 AUTH_WRAPPER: User has logged out: true
flutter: 🔐 AUTH_WRAPPER: User has logged out: true
flutter: 🔐 AUTH_WRAPPER: User has logged out, routing to LOGIN
flutter: 🔐 AUTH_WRAPPER: User has logged out, routing to LOGIN
flutter: 🔐 BiometricService: Device support check:
flutter:   - isSupported: true
flutter:   - canCheckBiometrics: true
flutter:   - final result: true
flutter: 🔐 BiometricService: Biometric enabled setting: true
flutter: 🔐 BiometricService: Device support check:
flutter:   - isSupported: true
flutter:   - canCheckBiometrics: true
flutter:   - final result: true
flutter: 🔐 BiometricService: Biometric enabled setting: true
flutter: ✅ SessionManager — Loaded user: 774dbc8c-035f-48be-a8fd-2480dbe09ddd
flutter: 🔐 LOGIN: Biometric debug info:
flutter:   - Device supported: true
flutter:   - Biometric enabled: true
flutter:   - Has stored credentials: true
flutter:   - Stored email: test4@xtest.com
flutter:   - Session user exists: true
flutter: 🔐 LOGIN: Should auto-prompt biometric: true
flutter: 🔐 LOGIN: Auto-prompting biometric login...
flutter: ✅ SessionManager — Loaded user: 774dbc8c-035f-48be-a8fd-2480dbe09ddd
flutter: 🔐 LOGIN: Biometric debug info:
flutter:   - Device supported: true
flutter:   - Biometric enabled: true
flutter:   - Has stored credentials: true
flutter:   - Stored email: test4@xtest.com
flutter:   - Session user exists: true
flutter: 🔐 LOGIN: Should auto-prompt biometric: true
flutter: 🔐 LOGIN: Auto-prompting biometric login...
flutter: 🔐 LOGIN: Starting biometric authentication and credential retrieval...
flutter: 🔐 BiometricService: Attempting authentication...
flutter:   - localizedReason: Use your biometric to sign in to Team Build Pro
flutter:   - biometricOnly: true
flutter: ❌ BiometricService: Authentication error: PlatformException(NotAvailable, Authentication canceled., com.apple.LocalAuthentication, null)
flutter: ❌ BiometricService: Biometric authentication failed
flutter: ❌ LOGIN: Biometric authentication failed or no credentials found
flutter: 🔔 APP LIFECYCLE: App resumed, syncing badge
count:  0
flutter: ✅ BadgeService: Badge cleared successfully.
flutter: ✅ APP LIFECYCLE: Cleared app badge on resume
flutter: ❌ APP LIFECYCLE: Badge sync failed: [firebase_functions/unauthenticated] Authentication required
flutter:
flutter: #0      CloudFunctionsHostApi.call (package:cloud_functions_platform_interface/src/pigeon/messages.pigeon.dart:84:7)
flutter: <asynchronous suspension>
flutter: #1      MethodChannelHttpsCallable.call (package:cloud_functions_platform_interface/src/method_channel/method_channel_https_callable.dart:33:24)
flutter: <asynchronous suspension>
flutter: #2      HttpsCallable.call (package:cloud_functions/src/https_callable.dart:49:37)
flutter: <asynchronous suspension>
flutter: #3      _MyAppState._syncAppBadge (package:ultimatefix/main.dart:158:7)
flutter: <asynchronous suspension>
flutter:
App is being debugged, do not track this hang
Hang detected: 11.70s (debugger attached, not reporting)
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API and this value is being ignored. Please fix this problem.
If you want to see the backtrace, please set CG_NUMERICS_SHOW_BACKTRACE environmental variable.
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API and this value is being ignored. Please fix this problem.
If you want to see the backtrace, please set CG_NUMERICS_SHOW_BACKTRACE environmental variable.
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API and this value is being ignored. Please fix this problem.
If you want to see the backtrace, please set CG_NUMERICS_SHOW_BACKTRACE environmental variable.
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API and this value is being ignored. Please fix this problem.
If you want to see the backtrace, please set CG_NUMERICS_SHOW_BACKTRACE environmental variable.
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API and this value is being ignored. Please fix this problem.
If you want to see the backtrace, please set CG_NUMERICS_SHOW_BACKTRACE environmental variable.
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API and this value is being ignored. Please fix this problem.
If you want to see the backtrace, please set CG_NUMERICS_SHOW_BACKTRACE environmental variable.
flutter: 🔐 LOGIN: Signing in with email: test288@ztest.com (biometric: false)
flutter: 🔐 AUTH_SERVICE: Firebase user found: 8d7317ff-0d71-43f3-bc70-a03f72348d72, fetching user data from Firestore
flutter: 🔐 AUTH_SERVICE: Firebase user found: 8d7317ff-0d71-43f3-bc70-a03f72348d72, fetching user data from Firestore
flutter: 🔐 LOGIN: Auth state -> test288@ztest.com (8d7317ff-0d71-43f3-bc70-a03f72348d72)
flutter: 🔐 LOGIN: Sign-in in progress, skipping auth state navigation
flutter: 🧹 SessionManager — Logout state cleared
flutter: 🔐 AUTH_SERVICE: Logout state cleared on successful login
flutter: 🔐 LOGIN: Current user after auth: 8d7317ff-0d71-43f3-bc70-a03f72348d72
flutter: 🔐 LOGIN: Fetching user document from Firestore...
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user, firstName: Dorothy
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user, firstName: Dorothy
flutter: 🔧 AUTH_SERVICE: adminSettings stream - currentUser: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user
flutter: 🔧 AUTH_SERVICE: Not an admin user (role: user), returning null admin settings
flutter: 🔐 AUTH_WRAPPER: Building with user: 8d7317ff-0d71-43f3-bc70-a03f72348d72, firebase user: 8d7317ff-0d71-43f3-bc70-a03f72348d72, admin settings: null, checking auth: false
flutter: 🔐 AUTH_WRAPPER: _buildContent called with user: 8d7317ff-0d71-43f3-bc70-a03f72348d72
flutter: 🔐 AUTH_WRAPPER: User found: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user, photoUrl: https://avatars.githubusercontent.com/u/57117037, country: Japan, firstName: Dorothy
flutter: 🔐 AUTH_WRAPPER: Profile complete, showing NavigationShell
flutter: 🍎 DASHBOARD: iOS demo mode: false
flutter: 📊 DASHBOARD: Loading cached network counts...
flutter: 📊 COUNTS: Cache miss, fetching from server...
flutter: 🔔 NOTIFICATIONS: Setting up real-time stream for user 8d7317ff-0d71-43f3-bc70-a03f72348d72
flutter: --- FCMService: Initializing for user UID: 8d7317ff-0d71-43f3-bc70-a03f72348d72 ---
flutter: 🔔 NOTIFICATIONS: Received 3 notifications from stream
flutter: 🔔 NOTIFICATIONS: Sorted notifications - 1 unread, 2 read
flutter: --- FCMService: Permission status: AuthorizationStatus.authorized
flutter: 🔐 LOGIN: User document exists: true
flutter: 🔐 LOGIN: Creating UserModel from Firestore data...
flutter: 🔐 LOGIN: UserModel created - Email: test288@ztest.com, UID: 8d7317ff-0d71-43f3-bc70-a03f72348d72
flutter: 🔐 LOGIN: Storing user data in SessionManager...
flutter: 📂 SessionManager — User session saved with UID: 8d7317ff-0d71-43f3-bc70-a03f72348d72
flutter: ✅ LOGIN: User data stored in SessionManager
flutter: 🔐 LOGIN: Storing credentials for biometric authentication...
flutter: 🔐 BiometricService: Storing credentials securely...
flutter: 🔍 BIZ_OPP DEBUG: Current user upline_admin: KJ8uFnlhKhWgBa4NVcwT
flutter: --- SAVE TOKEN START for UID: 8d7317ff-0d71-43f3-bc70-a03f72348d72 ---
flutter: --- SAVE TOKEN: Got FCM token starting with: diMvWvRfpUPpjjO...
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user, firstName: Dorothy
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user, firstName: Dorothy
flutter: 🔧 AUTH_SERVICE: adminSettings stream - currentUser: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user
flutter: 🔧 AUTH_SERVICE: Not an admin user (role: user), returning null admin settings
flutter: ✅ BiometricService: Credentials stored securely
flutter: 🔐 BiometricService: Biometric setting saved: true
flutter: ✅ LOGIN: Credentials stored securely and biometric enabled
flutter: 🔐 AUTH_WRAPPER: Building with user: 8d7317ff-0d71-43f3-bc70-a03f72348d72, firebase user: 8d7317ff-0d71-43f3-bc70-a03f72348d72, admin settings: null, checking auth: false
flutter: 🔐 AUTH_WRAPPER: _buildContent called with user: 8d7317ff-0d71-43f3-bc70-a03f72348d72
flutter: 🔐 AUTH_WRAPPER: User found: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user, photoUrl: https://avatars.githubusercontent.com/u/57117037, country: Japan, firstName: Dorothy
flutter: 🔐 AUTH_WRAPPER: Profile complete, showing NavigationShell
flutter: 🔍 BIZ_OPP DEBUG: Admin settings data: {biz_opp_ref_url: https://www.company.com/?ref=100, biz_opp: Demo Company, superAdmin: true, isSubscribed: true}
flutter: 🔍 BIZ_OPP DEBUG: biz_opp field: Demo Company
flutter: 🔍 BIZ_OPP DEBUG: Set bizOppName from admin settings: Demo Company
flutter: 📊 COUNTS: Cache miss, fetching from server...
flutter: ✅✅✅ SAVE TOKEN SUCCESS: Firestore write completed without error.
flutter: --- SAVE TOKEN END ---
flutter: ✅ FCMService: bound to 8d7317ff-0d71-43f3-bc70-a03f72348d72 with token diMvWvRfpU...
flutter: 💾 CACHE STORED: networkCounts_8d7317ff-0d71-43f3-bc70-a03f72348d72 (total entries: 3)
flutter: ✅ COUNTS: Fetched counts from server including newMembersYesterday: {joinedOpportunity: 0, all: 20, last24: 0, directSponsors: 3, newQualified: 0, newMembersYesterday: 0}
flutter: ✅ DASHBOARD: Cached counts loaded: {joinedOpportunity: 0, all: 20, last24: 0, directSponsors: 3, newQualified: 0, newMembersYesterday: 0}
flutter: 💾 CACHE STORED: networkCounts_8d7317ff-0d71-43f3-bc70-a03f72348d72 (total entries: 3)
flutter: ✅ COUNTS: Fetched counts from server including newMembersYesterday: {joinedOpportunity: 0, all: 20, last24: 0, directSponsors: 3, newQualified: 0, newMembersYesterday: 0}
flutter: 🔍 PAGINATION DEBUG: Total network size: 20
flutter: 🔍 PAGINATION DEBUG: Small network - loading all 120 members
flutter: 🔍 FILTERED: Cache miss, fetching from server (filter: all, search: "")...
flutter: 💾 CACHE STORED: filteredNetwork_8d7317ff-0d71-43f3-bc70-a03f72348d72_977480665 (total entries: 4)
flutter: ✅ FILTERED: Fetched 20 users from server (total: 20)
flutter: 🔍 PAGINATION DEBUG: Loaded 20 more members
flutter: 🔍 PAGINATION DEBUG: Total loaded: 20/20
flutter: 🔍 PAGINATION DEBUG: Has more data: false
flutter: 🔍 ANALYTICS DEBUG: Final analytics from server: {totalMembers: 20, directSponsors: 3, newMembers: 0, newMembersYesterday: 0, qualified: 0, withOpportunity: 0}
flutter: 🔍 team DEBUG: Total filtered members: 0
flutter: 🔍 team DEBUG: Level offset: 4
flutter: 🔍 team DEBUG: Members by level: {}
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user, firstName: Dorothy
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user, firstName: Dorothy
flutter: 🔧 AUTH_SERVICE: adminSettings stream - currentUser: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user
flutter: 🔧 AUTH_SERVICE: Not an admin user (role: user), returning null admin settings
flutter: 🔐 AUTH_WRAPPER: Building with user: 8d7317ff-0d71-43f3-bc70-a03f72348d72, firebase user: 8d7317ff-0d71-43f3-bc70-a03f72348d72, admin settings: null, checking auth: false
flutter: 🔐 AUTH_WRAPPER: _buildContent called with user: 8d7317ff-0d71-43f3-bc70-a03f72348d72
flutter: 🔐 AUTH_WRAPPER: User found: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user, photoUrl: https://avatars.githubusercontent.com/u/57117037, country: Japan, firstName: Dorothy
flutter: 🔐 AUTH_WRAPPER: Profile complete, showing NavigationShell
flutter: 🔔 NOTIFICATIONS: Received 4 notifications from stream
flutter: 🔔 NOTIFICATIONS: Sorted notifications - 2 unread, 2 read
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user, firstName: Dorothy
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user, firstName: Dorothy
flutter: 🔧 AUTH_SERVICE: adminSettings stream - currentUser: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user
flutter: 🔧 AUTH_SERVICE: Not an admin user (role: user), returning null admin settings
flutter: 🔐 AUTH_WRAPPER: Building with user: 8d7317ff-0d71-43f3-bc70-a03f72348d72, firebase user: 8d7317ff-0d71-43f3-bc70-a03f72348d72, admin settings: null, checking auth: false
flutter: 🔐 AUTH_WRAPPER: _buildContent called with user: 8d7317ff-0d71-43f3-bc70-a03f72348d72
flutter: 🔐 AUTH_WRAPPER: User found: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user, photoUrl: https://avatars.githubusercontent.com/u/57117037, country: Japan, firstName: Dorothy
flutter: 🔐 AUTH_WRAPPER: Profile complete, showing NavigationShell
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user, firstName: Dorothy
flutter: 🔐 AUTH_SERVICE: User document exists, creating UserModel
flutter: 🔐 AUTH_SERVICE: UserModel created - uid: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user, firstName: Dorothy
flutter: 🔧 AUTH_SERVICE: adminSettings stream - currentUser: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user
flutter: 🔧 AUTH_SERVICE: Not an admin user (role: user), returning null admin settings
flutter: 🔐 AUTH_WRAPPER: Building with user: 8d7317ff-0d71-43f3-bc70-a03f72348d72, firebase user: 8d7317ff-0d71-43f3-bc70-a03f72348d72, admin settings: null, checking auth: false
flutter: 🔐 AUTH_WRAPPER: _buildContent called with user: 8d7317ff-0d71-43f3-bc70-a03f72348d72
flutter: 🔐 AUTH_WRAPPER: User found: 8d7317ff-0d71-43f3-bc70-a03f72348d72, role: user, photoUrl: https://avatars.githubusercontent.com/u/57117037, country: Japan, firstName: Dorothy
flutter: 🔐 AUTH_WRAPPER: Profile complete, showing NavigationShell