<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Team Build Pro - The Ultimate Team Building App</title>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet" />
    <!-- Favicon -->
    <link rel="icon" href="https://img.icons8.com/plasticine/100/organization.png" type="image/png" />
    <!-- Smart App Banner for iOS Safari -->
    <meta name="apple-itunes-app" content="app-id=YOUR_APP_ID" />
    <!-- Apple Touch Icon for Universal Links -->
    <link rel="apple-touch-icon" href="assets/icons/app_icon.png" />
    <link rel="stylesheet" href="css/style.css" />

    <!-- === UI IMPROVEMENT STYLES === -->
    <style>
        /* This new style block fixes the card layout issues */
        .feature-card-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            /* Space between icon and title */
            margin-bottom: 1rem;
        }

        .feature-icon {
            /* Enforce uniform size and perfect centering for all icon containers */
            width: 3rem;
            height: 3rem;
            flex-shrink: 0;
            /* Prevents the icon from shrinking */
            display: flex;
            align-items: center;
            justify-content: center;
            /* Standardize font-size for emoji icons */
            font-size: 1.5rem;
        }

        .feature-icon svg {
            /* Ensures SVG icons fill their container */
            width: 1.5rem;
            height: 1.5rem;
        }

        .feature-card h3 {
            /* Remove default bottom margin as the header now controls it */
            margin-bottom: 0;
        }

        @media (max-width: 400px) {
            .platform-badge {
                white-space: nowrap;
                padding: 0.375rem 0.75rem;
                font-size: 0.8rem;
            }
        }

        /* Reduced CTA buttons to 3 main CTAs */
        .nav-links {
            display: flex;
            gap: 1.5rem;
        }

        .nav-links a {
            font-weight: 600;
            color: #333;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: #6366f1;
        }

        /* Sticky header for better navigation */
        header.header {
            position: sticky;
            top: 0;
            background: white;
            z-index: 1000;
            box-shadow: 0 2px 4px rgb(0 0 0 / 0.1);
        }

        /* Simplified CTA buttons */
        .cta-button {
            background-color: #6366f1;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.375rem;
            font-weight: 700;
            text-decoration: none;
            transition: background-color 0.3s ease;
        }

        .cta-button:hover {
            background-color: #4f46e5;
        }

        /* Reduced number of CTAs in hero */
        .hero-buttons {
            display: flex;
            gap: 1rem;
        }

        .secondary-button {
            display: none;
        }

        /* Content spacing improvements */
        section.section {
            padding-top: 3rem;
            padding-bottom: 3rem;
        }

        /* Added visual breaks for text-heavy sections */
        .feature-card p,
        .step p {
            line-height: 1.6;
            margin-top: 0.5rem;
        }

        /* Modal improvements: delay showing on mobile */
        #comingSoonModal {
            display: none !important;
        }

        /* Show modal only on explicit user action */
        .modal-trigger {
            cursor: pointer;
            color: #6366f1;
            text-decoration: underline;
        }
    </style>
    <!-- === END: UI IMPROVEMENT STYLES === -->
</head>

<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav container">
            <div class="logo">
                <img src="assets/icons/app_icon.png" alt="Team Build Pro Logo" />
                <span>Team Build Pro</span>
            </div>
            <div class="nav-links">
                <a href="#features">Features</a>
                <a href="#pricing">Pricing</a>
                <a href="#faq">FAQ</a>
            </div>
            <a href="#" id="cta-header" class="cta-button">Get Started Free</a>
        </nav>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="hero gradient-bg">
            <div class="container">
                <div class="hero-content">
                    <span id="hero-badge" class="platform-badge">Your Blueprint for Team Growth</span>
                    <h1 id="hero-headline">
                        Build Your Foundation <br />
                        <span class="accent">Accelerate Your Momentum</span>
                    </h1>
                    <p id="hero-subheadline">
                        The ultimate app for direct sales professionals to build, manage, and scale your team with
                        unstoppable momentum.
                    </p>
                    <div class="hero-buttons">
                        <a href="#" id="cta-hero" class="primary-button cta-button">Start Your 30-Day Free Trial</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- "Who It's For" Section -->
        <section id="who-its-for" class="section section-white">
            <div class="container">
                <div class="section-header">
                    <h2 id="who-headline">Built for Every Stage of Success</h2>
                    <p id="who-subheadline">
                        Whether you're an aspiring leader, an active builder, or a seasoned mentor, our tools grow with
                        you.
                    </p>
                </div>
                <div class="grid grid-3">
                    <div class="feature-card reveal-on-scroll">
                        <div class="feature-card-header">
                            <div class="feature-icon orange">üöÄ</div>
                            <h3 id="who-card1-headline">For Aspiring Leaders</h3>
                        </div>
                        <p id="who-card1-text">
                            Get a powerful head start. Begin building your team before you officially join an opportunity
                            and launch with unstoppable momentum.
                        </p>
                    </div>
                    <div class="feature-card reveal-on-scroll">
                        <div class="feature-card-header">
                            <div class="feature-icon blue">üìà</div>
                            <h3 id="who-card2-headline">For Active Team Builders</h3>
                        </div>
                        <p id="who-card2-text">
                            Efficiently track, manage, and expand your organization with powerful analytics and seamless,
                            secure communication tools.
                        </p>
                    </div>
                    <div class="feature-card reveal-on-scroll">
                        <div class="feature-card-header">
                            <div class="feature-icon purple">üë•</div>
                            <h3 id="who-card3-headline">For Seasoned Mentors</h3>
                        </div>
                        <p id="who-card3-text">
                            Cultivate a thriving global network, mentor emerging leaders, and ensure sustainable growth
                            across your entire organization.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- "The Why" Section -->
        <section id="the-why" class="section">
            <div class="container">
                <div class="section-header">
                    <h2 id="why-headline">Turn a Cold Start into a Running Start</h2>
                    <p id="why-subheadline">
                        We solve the biggest hurdle in direct sales: building momentum from day one.
                    </p>
                </div>
                <div class="grid grid-3">
                    <div class="feature-card reveal-on-scroll">
                        <div class="feature-card-header">
                            <div class="feature-icon red">‚ö†Ô∏è</div>
                            <h3 id="why-card1-headline">The Challenge</h3>
                        </div>
                        <p id="why-card1-text">
                            Starting from zero is tough. Professionals often struggle to find motivated prospects and
                            build momentum quickly, leading to frustration and slow growth.
                        </p>
                    </div>
                    <div class="feature-card reveal-on-scroll">
                        <div class="feature-card-header">
                            <div class="feature-icon blue">üí°</div>
                            <h3 id="why-card2-headline">The Solution</h3>
                        </div>
                        <p id="why-card2-text">
                            Team Build Pro offers a unique system for pre-building your team, allowing you to cultivate a
                            network of interested prospects before you even launch.
                        </p>
                    </div>
                    <div class="feature-card reveal-on-scroll">
                        <div class="feature-card-header">
                            <div class="feature-icon green">üìà</div>
                            <h3 id="why-card3-headline">Why It Works</h3>
                        </div>
                        <p id="why-card3-text">
                            By focusing on relationships first, our platform creates genuine momentum. Prospects in a
                            growing community are more engaged, motivated, and prepared for success.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- "How It Works" Section -->
        <section class="section section-white">
            <div class="container">
                <div class="section-header">
                    <h2>A Simple Process for Success</h2>
                    <p>Our proven 3-step process helps you build momentum from the very beginning.</p>
                </div>
                <div class="steps">
                    <div class="step reveal-on-scroll">
                        <div class="step-number">
                            <div class="step-number-inner">1</div>
                        </div>
                        <h3>Invite & Connect</h3>
                        <p>
                            Connect with like-minded professionals who are open to exploring your opportunity and invite
                            them to your pre-build network.
                        </p>
                    </div>
                    <div class="step reveal-on-scroll">
                        <div class="step-number">
                            <div class="step-number-inner">2</div>
                        </div>
                        <h3>Cultivate Momentum</h3>
                        <p>
                            Foster authentic relationships as your network grows, creating a thriving community of
                            professionals who support each other's success.
                        </p>
                    </div>
                    <div class="step reveal-on-scroll">
                        <div class="step-number">
                            <div class="step-number-inner">3</div>
                        </div>
                        <h3>Launch with Success</h3>
                        <p>
                            When the time is right, invite your pre-built team to join your official opportunity, turning
                            potential into performance.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- "Features / Why Choose Us" Section -->
        <section id="features" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>High-Performance Team Building Tools</h2>
                    <p>Everything you need to build, manage, and scale with confidence.</p>
                </div>
                <div class="grid grid-3">
                    <div class="feature-card reveal-on-scroll">
                        <div class="feature-card-header">
                            <div class="feature-icon blue">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                                </svg>
                            </div>
                            <h3>Complete Team Development</h3>
                        </div>
                        <p>
                            Expand your team worldwide, monitor qualification progress, and foster collaborative
                            relationships with powerful, intuitive tools.
                        </p>
                    </div>
                    <div class="feature-card reveal-on-scroll">
                        <div class="feature-card-header">
                            <div class="feature-icon purple">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                                </svg>
                            </div>
                            <h3>Trust, Security & Performance</h3>
                        </div>
                        <p>
                            Built with enterprise-grade security and engineered for a lightning-fast, reliable
                            experience. Your data is safe and accessible 24/7.
                        </p>
                    </div>
                    <div class="feature-card reveal-on-scroll">
                        <div class="feature-card-header">
                            <div class="feature-icon emerald">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                                </svg>
                            </div>
                            <h3>Secure Global Communication</h3>
                        </div>
                        <p>
                            Communicate with your team worldwide using a built-in, secure messaging system. Receive
                            daily growth updates and milestone notifications.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pricing Section -->
        <section id="pricing" class="section section-white">
            <div class="container">
                <div class="section-header">
                    <h2>Simple, Transparent Pricing</h2>
                    <p>One plan, all features. Start your free trial today, no credit card required.</p>
                </div>
                <div class="pricing-card">
                    <h3>Pro Plan</h3>
                    <p class="subtitle">Full access to all our premium features.</p>
                    <div class="price">
                        <span class="amount">$4.95</span>
                        <span class="period">/ month</span>
                    </div>
                    <ul class="features-list">
                        <li>
                            <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M5 13l4 4L19 7" />
                            </svg>Unlimited Team Members
                        </li>
                        <li>
                            <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M5 13l4 4L19 7" />
                            </svg>Real-time Analytics
                        </li>
                        <li>
                            <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M5 13l4 4L19 7" />
                            </svg>Secure Messaging
                        </li>
                        <li>
                            <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M5 13l4 4L19 7" />
                            </svg>Global Network Building
                        </li>
                        <li>
                            <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M5 13l4 4L19 7" />
                            </svg>24/7 Customer Support
                        </li>
                    </ul>
                    <a href="#" id="cta-pricing" class="pricing-button cta-button">Start 30-Day Free Trial</a>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section id="faq" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Frequently Asked Questions</h2>
                    <p>
                        Have questions? We've got answers. If you have other questions, feel free to reach out.
                    </p>
                </div>
                <div class="faq">
                    <div class="faq-item">
                        <button class="faq-button" onclick="toggleFAQ(1)">
                            <span>Is Team Build Pro a business opportunity?</span>
                            <svg class="faq-icon" id="icon-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7" />
                            </svg>
                        </button>
                        <div class="faq-content" id="content-1">
                            No. Team Build Pro is not a business opportunity or income platform of any kind. We are a
                            software tool designed exclusively to help professionals build and track their teams. We do
                            not provide any form of user compensation.
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-button" onclick="toggleFAQ(2)">
                            <span>Who is this platform for?</span>
                            <svg class="faq-icon" id="icon-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7" />
                            </svg>
                        </button>
                        <div class="faq-content" id="content-2">
                            Our platform is perfect for direct sales professionals, affiliate marketers, team leaders,
                            and any entrepreneur looking to build a collaborative organization. Whether you're just
                            starting or you're a seasoned mentor, our tools scale with you.
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-button" onclick="toggleFAQ(3)">
                            <span>Do I need a credit card for the free trial?</span>
                            <svg class="faq-icon" id="icon-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7" />
                            </svg>
                        </button>
                        <div class="faq-content" id="content-3">
                            No. You can enjoy full access to all premium features for 30 days completely free, with no
                            credit card required to start. You can decide to subscribe at any point during or after your
                            trial.
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-button" onclick="toggleFAQ(4)">
                            <span>Can I cancel my subscription at any time?</span>
                            <svg class="faq-icon" id="icon-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7" />
                            </svg>
                        </button>
                        <div class="faq-content" id="content-4">
                            Yes. You can cancel your subscription at any time with no long-term commitments or
                            cancellation fees. You will retain access until the end of your current billing period.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="cta-section gradient-bg">
            <div class="container">
                <h2 id="cta-final-headline">Ready to Build Your Empire?</h2>
                <p id="cta-final-subheadline">
                    Join thousands of professionals who are building their teams faster than ever before. Start your
                    free 30-day trial today.
                </p>
                <a href="#" id="cta-final" class="cta-button">Claim Your Free Trial</a>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-logo">
                <img src="assets/icons/app_icon.png" alt="Team Build Pro Logo" />
                <span>Team Build Pro</span>
            </div>
            <div class="footer-links">
                <a href="#features">Features</a>
                <a href="#pricing">Pricing</a>
                <a href="#faq">FAQ</a>
                <a href="contact_us.html">Contact</a>
                <a href="privacy_policy.html">Privacy Policy</a>
                <a href="terms_of_service.html">Terms of Service</a>
            </div>
            <p>&copy; <span id="currentYear"></span> Team Build Pro. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- COMING SOON MODAL -->
    <div id="comingSoonModal" class="modal-overlay" onclick="closeModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <h2>üöÄ Coming Soon!</h2>
            <p>
                Our app is putting on the final touches and will be launching on the App Store very soon. Get ready
                to build like a pro!
            </p>
            <button class="modal-close-btn" onclick="closeModal()">Got it!</button>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyA45ZN9KUuaYT0OHYZ9DmX2Jc8028Ftcvc",
            authDomain: "teambuilder-plus-fe74d.firebaseapp.com",
            projectId: "teambuilder-plus-fe74d",
            storageBucket: "teambuilder-plus-fe74d.firebasestorage.app",
            messagingSenderId: "312163687148",
            appId: "1:312163687148:web:43385dff773dab0b3763c9",
            measurementId: "G-G4E4TBBPZ7"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // ============================================================================
        // DYNAMIC CONTENT FOR DIFFERENT USER JOURNEYS
        // ============================================================================
        const contentFor = {
            partner: {
                heroBadge: "Your Blueprint for Team Growth",
                heroHeadline: `Empower Your Team <br> <span class="accent">Accelerate Duplication</span>`,
                heroSubheadline:
                    "The ultimate app for direct sales professionals to manage and scale your existing team with unstoppable momentum.",
                whoHeadline: "Built for Every Stage of Success",
                whoSubheadline:
                    "Whether you're an aspiring leader, an active builder, or a seasoned mentor, our tools grow with you.",
                whoCard1Headline: "For Aspiring Leaders",
                whoCard1Text:
                    "Get a powerful head start. Begin building your team before you officially join an opportunity and launch with unstoppable momentum.",
                whoCard2Headline: "For Active Team Builders",
                whoCard2Text:
                    "Efficiently track, manage, and expand your organization with powerful analytics and seamless, secure communication tools.",
                whoCard3Headline: "For Seasoned Mentors",
                whoCard3Text:
                    "Cultivate a thriving global network, mentor emerging leaders, and ensure sustainable growth across your entire organization.",
                whyHeadline: "Solve the Duplication Dilemma",
                whySubheadline: "We solve the biggest hurdle in direct sales: getting your team to duplicate your success.",
                whyCard1Headline: "The Challenge",
                whyCard1Text:
                    "It's hard to get new team members to duplicate your success. Without a simple system to follow, momentum stalls and growth becomes a struggle.",
                whyCard2Headline: "The Solution",
                whyCard2Text:
                    "Team Build Pro provides your entire organization with a simple, unified system to follow, ensuring everyone can build effectively from day one.",
                whyCard3Headline: "Why It Works",
                whyCard3Text:
                    "By providing a clear roadmap and powerful tools for everyone, we remove the guesswork from team building, leading to faster, more sustainable duplication.",
                ctaFinalHeadline: "Ready to Empower Your Team?",
                ctaFinalSubheadline:
                    "Give your entire organization the tools they need to succeed. Start your free 30-day trial today.",
                ctaHeader: "Get Started Free",
                ctaHero: "Start Your 30-Day Free Trial",
                ctaPricing: "Start 30-Day Free Trial",
                ctaFinal: "Claim Your Free Trial",
            },
            new: {
                heroBadge: "Your Head Start to Success",
                heroHeadline: `Build Your Foundation <br> <span class="accent">Before Day One</span>`,
                heroSubheadline:
                    "The ultimate system to pre-build a large team BEFORE joining the business opportunity, positioning you for immediate success.",
                whoHeadline: "A New Way to Launch Your Business",
                whoSubheadline:
                    "This isn't just an app; it's a strategic advantage for ambitious professionals ready to start strong.",
                whoCard1Headline: "Pre-Build Your Team",
                whoCard1Text:
                    "Use our system to invite and organize a network of interested prospects before you even join the business. No more starting from zero.",
                whoCard2Headline: "Create Real Momentum",
                whoCard2Text:
                    "Cultivate a thriving community that's ready to launch with you. When your team sees growth from day one, their belief and motivation skyrockets.",
                whoCard3Headline: "Launch with Confidence",
                whoCard3Text:
                    "Step into your new opportunity with a pre-built foundation, ready to achieve success and earn income from the very beginning.",
                whyHeadline: "Turn a Cold Start into a Running Start",
                whySubheadline: "We solve the biggest hurdle in direct sales: building momentum from day one.",
                whyCard1Headline: "The Challenge",
                whyCard1Text:
                    "Starting a new business from zero is the biggest hurdle. It's a slow, uphill battle to build initial momentum, often leading to frustration.",
                whyCard2Headline: "The Solution",
                whyCard2Text:
                    "Team Build Pro lets you build a network of motivated prospects first. You cultivate a ready-to-go team that can launch with you.",
                whyCard3Headline: "Why It Works",
                whyCard3Text:
                    "By focusing on community and momentum before the sale, you de-risk the opportunity for your prospects and ensure a powerful, successful launch.",
                ctaFinalHeadline: "Ready to Build Your Foundation?",
                ctaFinalSubheadline:
                    "Join thousands of professionals who are building their teams faster than ever before. Start building your team for free today.",
                ctaHeader: "Start Building Free",
                ctaHero: "Start Building Your Team for Free",
                ctaPricing: "Start Building for Free",
                ctaFinal: "Claim Your Free Spot",
            },
        };

        // Function to update the DOM with dynamic content
        function updatePageContent(type = "partner") {
            const content = contentFor[type] || contentFor.partner;

            // Helper to safely update element content
            const updateElement = (id, content, isHtml = false) => {
                const element = document.getElementById(id);
                if (element) {
                    if (isHtml) {
                        element.innerHTML = content;
                    } else {
                        element.textContent = content;
                    }
                }
            };

            // Update Hero Section
            updateElement("hero-badge", content.heroBadge);
            updateElement("hero-headline", content.heroHeadline, true);
            updateElement("hero-subheadline", content.heroSubheadline);

            // Update "Who It's For" Section
            updateElement("who-headline", content.whoHeadline);
            updateElement("who-subheadline", content.whoSubheadline);
            updateElement("who-card1-headline", content.whoCard1Headline);
            updateElement("who-card1-text", content.whoCard1Text);
            updateElement("who-card2-headline", content.whoCard2Headline);
            updateElement("who-card2-text", content.whoCard2Text);
            updateElement("who-card3-headline", content.whoCard3Headline);
            updateElement("who-card3-text", content.whoCard3Text);

            // Update "The Why" Section
            updateElement("why-headline", content.whyHeadline);
            updateElement("why-subheadline", content.whySubheadline);
            updateElement("why-card1-headline", content.whyCard1Headline);
            updateElement("why-card1-text", content.whyCard1Text);
            updateElement("why-card2-headline", content.whyCard2Headline);
            updateElement("why-card2-text", content.whyCard2Text);
            updateElement("why-card3-headline", content.whyCard3Headline);
            updateElement("why-card3-text", content.whyCard3Text);

            // Update Final CTA
            updateElement("cta-final-headline", content.ctaFinalHeadline);
            updateElement("cta-final-subheadline", content.ctaFinalSubheadline);

            // Update all CTA buttons
            updateElement("cta-header", content.ctaHeader);
            updateElement("cta-hero", content.ctaHero);
            updateElement("cta-pricing", content.ctaPricing);
            updateElement("cta-final", content.ctaFinal);
        }

        // ============================================================================
        // REFERRAL LOGIC
        // ============================================================================

        function getReferralInfo() {
            if (window.location.protocol === "file:") return null;
            const urlParams = new URLSearchParams(window.location.search);
            const newProspectCode = urlParams.get("new");
            const partnerCode = urlParams.get("ref");

            if (newProspectCode && isValidReferralCode(newProspectCode)) {
                return { code: newProspectCode, type: "new" };
            }
            if (partnerCode && isValidReferralCode(partnerCode)) {
                return { code: partnerCode, type: "partner" };
            }
            return null;
        }

        function isValidReferralCode(code) {
            return (
                code &&
                code.trim().length >= 3 &&
                code.length <= 50 &&
                !/[:/\\]/.test(code) &&
                !/^(file|C:)/.test(code)
            );
        }

        function createInviteSection(firstName, lastName, referralType, bizOppName) {
            const inviteSection = document.createElement("div");
            inviteSection.className = "personal-invitation-card";
            let message;

            if (referralType === "new") {
                message = `<span style="font-weight: 800; color: #a5b4fc;">${firstName} ${lastName}</span> is inviting you to get a head start on your <strong>${bizOppName}</strong> journey. They're using this app to pre-build their team and create powerful momentum before day one, and they thought you'd want to as well.`;
            } else {
                message = `<span style="font-weight: 800; color: #a5b4fc;">${firstName} ${lastName}</span> invites you to accelerate your team's growth in <strong>${bizOppName}</strong>. They use the Team Build Pro app to manage their network and build momentum, and they highly recommend it.`;
            }

            inviteSection.innerHTML = `
                <div class="personal-invitation-header">
                    <div class="personal-invitation-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline></svg>
                    </div>
                    <div class="personal-invitation-title">A Personal Invitation</div>
                </div>
                <p class="personal-invitation-body">${message}</p>`;
            const heroContent = document.querySelector(".hero-content");
            const heroBadge = heroContent.querySelector("#hero-badge");
            heroContent.insertBefore(inviteSection, heroBadge);
        }

        async function fetchUserAndDisplayInvite(referralInfo) {
            try {
                const url = `https://us-central1-teambuilder-plus-fe74d.cloudfunctions.net/getUserByReferralCode?code=${referralInfo.code}`;
                const response = await fetch(url);

                if (!response.ok) {
                    console.error("Sponsor not found or server error:", response.status);
                    return;
                }

                const userData = await response.json();

                if (userData.firstName && userData.lastName) {
                    const bizOppName = userData.bizOppName || "their opportunity";
                    createInviteSection(userData.firstName, userData.lastName, referralInfo.type, bizOppName);
                }
            } catch (error) {
                console.error("Error fetching user data by referral code:", error);
            }
        }

        // ============================================================================
        // INITIALIZATION & UTILITIES
        // ============================================================================

        function isMobileDevice() {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }

        const modal = document.getElementById("comingSoonModal");
        function openModal() {
            if (modal) modal.style.display = "flex";
        }
        function closeModal() {
            if (modal) modal.style.display = "none";
        }
        window.addEventListener("keydown", (event) => {
            if (event.key === "Escape") closeModal();
        });

        function updateCTAsForMobile() {
            const ctaIds = ["cta-header", "cta-hero", "cta-pricing", "cta-final"];
            if (isMobileDevice()) {
                ctaIds.forEach((id) => {
                    const button = document.getElementById(id);
                    if (button) {
                        button.textContent = "Download on the App Store";
                        button.href = "javascript:void(0);";
                        button.target = "_self";
                        button.onclick = openModal;
                    }
                });
                const secondaryHeroButton = document.querySelector(".hero-buttons .secondary-button");
                if (secondaryHeroButton) {
                    secondaryHeroButton.style.display = "none";
                }
            }
        }

        async function initializePage() {
            const referralInfo = getReferralInfo();
            const referralType = referralInfo ? referralInfo.type : "partner";

            updatePageContent(referralType);

            if (referralInfo) {
                console.log("Processing referral:", referralInfo);
                await fetchUserAndDisplayInvite(referralInfo);
            } else {
                console.log("No referral code found. Displaying default partner content.");
            }

            updateCTAsForMobile();
        }

        document.addEventListener("DOMContentLoaded", () => {
            const currentYearEl = document.getElementById("currentYear");
            if (currentYearEl) currentYearEl.textContent = new Date().getFullYear();
        });

        const observer = new IntersectionObserver(
            (entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add("revealed");
                    }
                });
            },
            { threshold: 0.1 }
        );

        document.querySelectorAll(".reveal-on-scroll").forEach((el) => observer.observe(el));

        document.addEventListener("DOMContentLoaded", initializePage);

        // FAQ Toggle Function
        function toggleFAQ(index) {
            const content = document.getElementById(`content-${index}`);
            const icon = document.getElementById(`icon-${index}`);
            for (let i = 1; i <= 4; i++) {
                if (i !== index) {
                    document.getElementById(`content-${i}`).classList.remove("open");
                    document.getElementById(`icon-${i}`).classList.remove("rotated");
                }
            }
            content.classList.toggle("open");
            icon.classList.toggle("rotated");
        }
    </script>
</body>

</html>
